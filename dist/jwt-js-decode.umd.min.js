!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("pako"),require("crypto")):"function"==typeof define&&define.amd?define(["exports","pako","crypto"],t):t(e.jwtJsDecode={},null,null)}(this,function(e,t,r){"use strict";function n(e,t,r,n){return new(r||(r=Promise))(function(i,o){function u(e){try{s(n.next(e))}catch(e){o(e)}}function a(e){try{s(n.throw(e))}catch(e){o(e)}}function s(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(u,a)}s((n=n.apply(e,t||[])).next())})}function i(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(u=2&r[0]?o.return:r[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,r[1])).done)return u;switch(o=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(u=s.trys,!(u=u.length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){s.label=r[1];break}if(6===r[0]&&s.label<u[1]){s.label=u[1],u=r;break}if(u&&s.label<u[2]){s.label=u[2],s.ops.push(r);break}u[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],o=0}finally{i=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var i,o,u,a,s={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a}function o(e){try{return JSON.parse(e)}catch(e){throw new Error(z)}}function u(e){try{if("object"==typeof window&&"function"==typeof window.atob)return window.atob(e);if("undefined"!=typeof Buffer)return new Buffer(e,"base64").toString("binary");throw new Error(z)}catch(e){throw new Error(e)}}function a(e){if("string"!=typeof e||e.length%4!=0)throw new Error(z);return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function s(e){if("string"!=typeof e||e.length%4==1)throw new Error(z);for(;e.length%4!=0;)e+="=";return e.replace(/\-/g,"+").replace(/_/g,"/")}function c(e){return u(s(e))}function f(e){return"object"==typeof e&&"string"==typeof e.zip&&"GZIP"===e.zip.toUpperCase()}function l(e){return new _(e)}function h(e){return new U(e)}function p(e){try{if("object"==typeof window&&"function"==typeof window.atob)return window.btoa(e);if("undefined"!=typeof Buffer)return new Buffer(e).toString("base64");throw new Error(z)}catch(e){throw new Error(e)}}function d(e){return a(p(e))}function w(e){return d(b(e))}function y(e){if("string"!=typeof e)throw new Error(z);return t.inflate(e,{raw:!1,from:"string",to:"string"})}function g(e){return y(c(e))}function b(e){if("string"!=typeof e)throw new Error(z);return t.deflate(e,{raw:!1,from:"string",to:"string"})}function v(e){for(var t=new Uint8Array(e.length),r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}function S(e){return e instanceof ArrayBuffer&&(e=new Uint8Array(e)),String.fromCharCode.apply(String,e)}function m(e,t){return n(this,void 0,void 0,function(){var o;return i(this,function(u){switch(u.label){case 0:return J?(o=v(t),[4,J.importKey("raw",o,{name:"HMAC",hash:{name:e}},!0,["sign"]).then(function(e){return{_key:e,update:function(t){return n(this,void 0,void 0,function(){return i(this,function(r){switch(r.label){case 0:return[4,J.sign("HMAC",e,v(t))];case 1:return[2,r.sent()]}})})}}})]):[3,2];case 1:return[2,u.sent()];case 2:return[2,r&&r.createHmac?Promise.resolve(r.createHmac(e.replace("SHA-","sha"),t)):Promise.reject(P)]}})})}function E(e){return function(t,r){return n(this,void 0,void 0,function(){var n,o,u,s,c,f,l;return i(this,function(i){switch(i.label){case 0:return[4,m("SHA-"+e,r)];case 1:return n=i.sent(),u=(o=Promise).resolve,J?(c=d,f=S,l=n,l?[4,n.update(t)]:[3,3]):[3,4];case 2:l=i.sent(),i.label=3;case 3:return s=c.apply(void 0,[f.apply(void 0,[l])]),[3,5];case 4:s=a(n&&n.update(t).digest("base64")),i.label=5;case 5:return[2,u.apply(o,[s])]}})})}}function H(e){return function(t,r,o){return n(this,void 0,void 0,function(){return i(this,function(n){switch(n.label){case 0:return[4,E(e)(t,o)];case 1:return[2,n.sent()===r]}})})}}function j(e,t,r,o){return n(this,void 0,void 0,function(){var n,u,a,s;return i(this,function(i){switch(i.label){case 0:if("string"!=typeof e||e.length<4)throw new Error(k);if("none"===(n=e.toLowerCase()))return[2,""===r];if(u=n.slice(0,2),a=parseInt(n.slice(2)),isNaN(a)||[256,384,512].indexOf(a)<0)throw new Error(k);switch(s=u){case"hs":return[3,1]}return[3,3];case 1:return[4,H(a)(t,r,o)];case 2:return[2,i.sent()];case 3:throw new Error(k)}})})}function A(e,t,r){return n(this,void 0,void 0,function(){var n,o,u,a;return i(this,function(i){switch(i.label){case 0:if("string"!=typeof e||e.length<4)throw new Error(k);if("none"===(n=e.toLowerCase()))return[2,""];if(o=n.slice(0,2),u=parseInt(n.slice(2)),isNaN(u)||[256,384,512].indexOf(u)<0)throw new Error(k);switch(a=o){case"hs":return[3,1]}return[3,3];case 1:return[4,E(u)(t,r)];case 2:return[2,i.sent()];case 3:throw new Error(k)}})})}function C(e,t){return n(this,void 0,void 0,function(){var r,n,u;return i(this,function(i){switch(i.label){case 0:return r=h(e),n=o(c(r.header)),u=r.header+"."+r.payload,[4,j(n.alg,u,r.signature,t)];case 1:return[2,i.sent()]}})})}function O(e,t){return n(this,void 0,void 0,function(){var r,n,u;return i(this,function(i){switch(i.label){case 0:return r=h(e),n=o(c(r.header)),u=r.header+"."+r.payload,[4,A(n.alg,u,t)];case 1:return[2,i.sent()]}})})}function x(e,t){return n(this,void 0,void 0,function(){var r,n,u,a;return i(this,function(i){switch(i.label){case 0:return r=h(e),n=o(c(r.header)),u=r.header+"."+r.payload,a=u+".",[4,A(n.alg,u,t)];case 1:return[2,a+i.sent()]}})})}function N(){return r?r.type||"crypto-node":"undefined"}t=t&&t.hasOwnProperty("default")?t.default:t,r=r&&r.hasOwnProperty("default")?r.default:r;var P="object"==typeof window&&(window.crypto||window.msCrypto),J=P&&(P.subtle||P.webkitSubtle||P.Subtle),k='Unsupported algorithm name specified! Supported algorithms: "HS256", "HS384", "HS512", "RS256", "RS384", "RS512" and "none".',z="Illegal argument specified!",U=function(){function e(e){if("string"!=typeof e)throw new Error(z);var t=e.split(".");if(3!==t.length)throw new Error(z);var r=t[0],n=t[1],i=t[2];this.header=r,this.payload=n,this.signature=i}return e.prototype.toString=function(){return this.header+"."+this.payload+"."+this.signature},e}(),_=function(){function e(e){if(this.header={},this.payload={},this.signature="","string"!=typeof e)throw new Error(z);var t=h(e);t&&(this.header=t.header?o(c(t.header)):{},this.payload=t.payload?o(f(this.header)?g(t.payload):c(t.payload)):{},this.signature=t.signature||"")}return e.prototype.toString=function(){return d(JSON.stringify(this.header))+"."+(f(this.header)?w(JSON.stringify(this.payload)):d(JSON.stringify(this.payload)))+"."+this.signature},e}();e.webCrypto=P,e.webCryptoSubtle=J,e.UNSUPPORTED_ALGORITHM=k,e.ILLEGAL_ARGUMENT=z,e.JwtSplit=U,e.JwtDecode=_,e.s2J=o,e.b2s=u,e.b2bu=a,e.bu2b=s,e.bu2s=c,e.isGzip=f,e.jwtDecode=l,e.jwtSplit=h,e.s2b=p,e.s2bu=d,e.s2zbu=w,e.unzip=y,e.zbu2s=g,e.zip=b,e.createHmac=m,e.algHSsign=E,e.algHSverify=H,e.algVerify=j,e.algSign=A,e.jwtVerify=C,e.jwtSign=O,e.resignJwt=x,e.cryptoType=N,Object.defineProperty(e,"__esModule",{value:!0})});
